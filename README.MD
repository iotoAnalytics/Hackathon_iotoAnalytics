NUMBER OF CITY COUNCIL AIR QUALITY MEETINGS VS AIR QUALITY (PM2.5)

Our project for the Amazon Sustainability Data Initiative Global Hackathon focuses on finding a relationship between the number of times a city council discusses air quality in their meetings and the actual air quality of that city.

The ASDI dataset we used was the OpenAQ dataset. The AQ data for each city was obtained by making calls to this API.

To obtain the city meeting data, we used Selenium to scrape the required information from the HTML of each city's platform. We scraped meeting data matching specific AQ terms: "air quality", "air pollution", "greenhouse gas", "clean air", "better air", and "air pollutant"s (scrapers/us-cities-aq), as well as the previous 5000 general meetings (scrapers/us-cities-gen). The main snippet of the meeting text, alongside the date, was extracted and combined into a csv file for each city.

We then ran this data through our topic classification learning model. This model is built on a pre-trained BERT model. These models are trained with natural language and require some fine-tuning to apply them to specific use cases. Our training model classifies incoming text into 7 categories: economy, environment, foreign policy, government, infrastructure, law, and welfare. We used SageMaker because we have so much data that it would take days to fine-tune a BERT model, but SageMaker permits us to run training on EC2 instances which are a lot more powerful and are able to run training in 1-2 hours. The topic for each general meeting was updated and added into the corresponding CSV file.

Using this data, we were able to do analysis and create graphical outputs. There are two python notebooks for this analysis. "scrapers/aq_analysis/analysis.ipynb" does the individual analysis for each city. After clicking Run All, it will prompt for an integer input to select which city to run the analysis for. It then sends a request to the OpenAQ api to fetch the PM2.5 AQ daily data for that city, as well as reading in the data obtained by the AQ and GEN scrapers. 
The first graph displays the PM2.5 levels for that city over the scoped date span, as well as the PM2.5 guidline thresholds. The national standard is about 12, with short term average threshold at 35. A city with low PM2.5 levels should aim to have daily levels below 15 with very little to no spikes above 35. This graph can help us figure out if a city has bad, good, or average air quality.
The next graph shows the number of meetings a city council had in which they talked about air quality terms over the scoped date span, categorized into years. This allows us to see how often and how frequently a city talks about air quality topics.
The third graph compares the total meetings with air quality topics to the other topics labeled by the classification model. This gives us a way to compare to the rest of the meetings and see what are the most and least important/frequent topics for that city council. The percentage for each category is also provided as a numerical comparison.
The final graph for the individual city analysis displays the number of meetings that were had for each air quality topic. This can also provide a way to see which terms were most popular and what was their main point of focus in air quality meetings.

In our final analysis (scrapers/aq_analysis/final.ipynb), we combined the individual analysis for each city to make comparisons between them. After clicking Run All, the analysis.ipynb is ran for each individual city, with the results extracted and saved into local variables. 
The first graph displays the number of days with the PM2.5 levels over the national thresholds for each city, ordered from fewest to most. This directly compares the AQ for each city, and allows us to easily recognize which cities have good or bad air quality. The number of days with PM2.5>15 are in blue, and number of days with PM2.5>35 are in orange. 
The second graph displays the number of meetings in which they talk about AQ for each city. Similarily, this directly compares the cities and we can clearly see which cities frequently talk about AQ and which cities may not talk about it at all.
The third graph combines the previous data into one, graphing the AQ VS NUMBER OF AQ MEETINGS for each city. This allows us to create a relationship between these two variables, and see if there are any patterns. A Pearsons correlation is applied to this, and the result is also printed. A Pearson correlation >= 0.5 is considered to have a strong, positive correlation. A correlation <= -0.5 has a strong, negative relationship. Values between these two means there is a weak correlation. 
In the last cell, the order of the cities ranked from best to worst air quality is printed, as well the the least to most air quality meetings. Then a final conclusion is printed based on the correlation between these two values.